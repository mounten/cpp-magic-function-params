cpp_magic_fn